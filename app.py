import streamlit as st

# ==========================================
# 1. ç³»çµ±è¨­å®š (æ¡ƒåœ’å°ˆå±¬ç‰ˆ)
# ==========================================
st.set_page_config(
    page_title="ä¸‰ä¸€å”æœƒkalasç¦åˆ©ç«™",
    page_icon="ğŸ‘µ",
    layout="centered",
    initial_sidebar_state="collapsed"
)

# CSS: å¤§å­—é«”ã€æ¸…æ™°å¡ç‰‡
st.markdown("""
    <style>
    html, body, [class*="css"] {
        font-family: "Microsoft JhengHei", sans-serif;
        font-size: 20px;
    }
    .big-money {
        font-size: 24px;
        color: #C2185B; /* æ¡ƒç´…è‰² (å€åˆ¥æ–¼å°æ±ç‰ˆ) */
        font-weight: bold;
    }
    .benefit-item {
        border-bottom: 1px solid #ddd;
        padding: 10px 0;
    }
    </style>
""", unsafe_allow_html=True)

# ==========================================
# 2. æ¨™é¡Œèˆ‡è¼¸å…¥ (ä¸‰ä¸€å”æœƒ)
# ==========================================
st.title("ğŸ‘µ ä¸‰ä¸€å”æœƒ kalas ç¦åˆ©ç«™")
st.caption("ğŸ‘‡ å°ˆå±¬æ¡ƒåœ’åŸä½æ°‘é•·è€…çš„ç¦åˆ©è©¦ç®— (Taoyuan City)")

with st.expander("ğŸ“ è¨­å®šè³‡æ–™ (é»æ­¤å±•é–‹)", expanded=True):
    age = st.number_input("é•·è¼©å¹´é½¡ (Mihecaan)", 50, 120, 55) # æ¡ƒåœ’ç¦åˆ©å¤šå¾55æ­²é–‹å§‹
    
    c1, c2 = st.columns(2)
    with c1:
        is_farmer = st.checkbox("æˆ‘æ˜¯è¾²æ°‘ (æœ‰è¾²ä¿)")
        is_low_income = st.checkbox("ä¸­ä½æ”¶å…¥æˆ¶")
        has_disability = st.checkbox("èº«éšœæ‰‹å†Š")
    with c2:
        is_owner = st.checkbox("æœ‰æˆ¿å­ (æ¡ƒåœ’)")
        is_renter = st.checkbox("æˆ‘æ˜¯ç§Ÿæˆ¿å­çš„")
        has_car = st.checkbox("æœ‰è»Šå­")
        grandparenting = st.checkbox("å¸¶å­«å­")

# ==========================================
# 3. æ ¸å¿ƒé¡¯ç¤ºå‡½æ•¸
# ==========================================
def show_item(index, name, money, qualify, note, location):
    if qualify:
        icon = "âœ…"
        status = "ç¬¦åˆè³‡æ ¼"
    else:
        icon = "ğŸ”’"
        status = "æ¢ä»¶ä¸ç¬¦"

    with st.container(border=True):
        st.write(f"**{index}. {icon} {name}**")
        if qualify:
            st.markdown(f'<div class="big-money">{money}</div>', unsafe_allow_html=True)
            st.info(f"ğŸ’¡ {note}")
            st.caption(f"ğŸ›ï¸ {location}")
        else:
            st.caption(f"âŒ {status} ({note})")

# ==========================================
# 4. æ¡ƒåœ’ç¦åˆ©å¤§æ¸…å–® (33é …)
# ==========================================
st.markdown("---")
tabs = st.tabs(["ğŸ’°é ˜éŒ¢", "ğŸ©ºé†«ç™‚", "ğŸ ç”Ÿæ´»", "ğŸšŒäº¤é€š", "âš°ï¸éš±è—ç‰ˆ"])

# === Tab 1: ç¾é‡‘æ´¥è²¼ (æ¡ƒåœ’ç¦åˆ©è¶…å¥½ï¼) ===
with tabs[0]:
    st.subheader("ğŸ’° æ¡ƒåœ’å°ˆå±¬æ´¥è²¼")
    
    # æ¡ƒåœ’ç¨æœ‰ï¼šä¸‰ç¯€ç¦®é‡‘ (æ˜¥ç¯€/ç«¯åˆ/ä¸­ç§‹)
    show_item(1, "æ¡ƒåœ’è€äººä¸‰ç¯€ç¦®é‡‘", "$2,500/æ¯ç¯€ (å¹´é ˜$7,500)", (age>=55), "åŸä½æ°‘55æ­²å°±èƒ½é ˜ï¼(éœ€è¨­ç±6å€‹æœˆ)", "å€å…¬æ‰€ç¤¾æœƒèª²")
    
    # æ¡ƒåœ’ç¨æœ‰ï¼šé‡é™½æ•¬è€é‡‘
    show_item(2, "æ¡ƒåœ’é‡é™½æ•¬è€é‡‘", "$2,500/å¹´", (age>=55), "åŸä½æ°‘55æ­²å°±æœ‰ (ä¸€èˆ¬äººè¦65)", "å€å…¬æ‰€ç¤¾æœƒèª²")
    
    # ä¸­å¤®ï¼šåŸä½æ°‘çµ¦ä»˜
    show_item(3, "åŸä½æ°‘çµ¦ä»˜ (åœ‹ä¿)", "$4,049/æœˆ", (55<=age<65), "55-64æ­²å°ˆå±¬ (èˆ‡è€è¾²äº’æ–¥)", "å€å…¬æ‰€åŸæ°‘èª²")
    
    show_item(4, "è€è¾²æ´¥è²¼", "$8,110/æœˆ", (is_farmer and age>=65), "è¾²ä¿æ»¿15å¹´å¯é ˜", "åœ°å€è¾²æœƒ")
    
    # æ¡ƒåœ’æ€¥é›£æ•‘åŠ©
    show_item(5, "æ¡ƒåœ’åŸæ°‘æ€¥é›£æ•‘åŠ©", "æœ€é«˜3è¬", True, "æ„å¤–/é‡ç—…/æ­»äº¡ (3å€‹æœˆå…§)", "å€å…¬æ‰€åŸæ°‘èª²")
    show_item(6, "å¼±å‹¢å…’å°‘æ‰˜è‚²(éš”ä»£)", "$3,000èµ·/æœˆ", (grandparenting and is_low_income), "é˜¿å…¬é˜¿å¬¤å¸¶å­« (æ¡ƒåœ’åŠ ç¢¼)", "å€å…¬æ‰€ç¤¾æœƒèª²")

# === Tab 2: é†«ç™‚ (ç‰™é½’/å¥æª¢) ===
with tabs[1]:
    st.subheader("ğŸ©º é†«ç™‚ç…§é¡§")
    
    # æ¡ƒåœ’å‡ç‰™
    show_item(7, "æ¡ƒåœ’åŸæ°‘å‡ç‰™è£œåŠ©", "æœ€é«˜4.4è¬", (age>=55), "1.å…ˆå»è¨ºæ‰€æ‹¿ä¼°åƒ¹å–® 2.å»å…¬æ‰€", "å€å…¬æ‰€åŸæ°‘èª²")
    
    show_item(8, "å¥ä¿è²»å…¨é¡è£œåŠ©", "å…¨å…", (age>=55), "55-64æ­²åŸä½æ°‘ (æ”¿åºœå¹«ä½ ç¹³)", "å¥ä¿å±€(è‡ªå‹•)")
    show_item(9, "æˆäººå¥åº·æª¢æŸ¥", "å…è²»", (age>=55), "æ¯å¹´ä¸€æ¬¡ (åŸä½æ°‘ææ—©è‡³55æ­²)", "è¡›ç”Ÿæ‰€/ç‰¹ç´„é†«é™¢")
    show_item(10, "èº«éšœè¼”å…·è£œåŠ©", "å…¨é¡/éƒ¨åˆ†", has_disability, "åŠ©è½å™¨/é›»å‹•åºŠ/æ°£å¢ŠåºŠ", "å€å…¬æ‰€ç¤¾æœƒèª²")

# === Tab 3: ä½å±‹ (æ¡ƒåœ’é¡åº¦è¼ƒé«˜) ===
with tabs[2]:
    st.subheader("ğŸ  å±…ä½ç¦åˆ©")
    
    # æ¡ƒåœ’ä¿®ç¹•
    show_item(11, "æ¡ƒåœ’ä¿®ç¹•ä½å®…è£œåŠ©", "æœ€é«˜15è¬", is_owner, "ä¿®å±‹é ‚/è¡›æµ´ (æ¯”ä¸­å¤®å¤š4è¬)", "å€å…¬æ‰€åŸæ°‘èª²")
    
    # æ¡ƒåœ’å»ºè³¼
    show_item(12, "æ¡ƒåœ’å»ºè³¼ä½å®…è£œåŠ©", "æœ€é«˜22è¬", is_owner, "è³¼è²·æˆ–è‡ªå»ºæˆ¿å­", "å€å…¬æ‰€åŸæ°‘èª²")
    
    show_item(13, "ç§Ÿé‡‘è£œè²¼ (300å„„)", "ä¾ç­‰ç´š ($3000èµ·)", is_renter, "ç§Ÿæˆ¿å­å¯ç”³è«‹ (ç·šä¸Š)", "ç‡Ÿå»ºç½²/å…¬æ‰€")
    show_item(14, "ä½å®¿å¼æ©Ÿæ§‹è£œåŠ©", "æœ€é«˜12è¬/å¹´", True, "ä½å®‰é¤Šé™¢è£œåŠ©", "ç¤¾æœƒå±€")

# === Tab 4: äº¤é€š (å¸‚æ°‘å¡) ===
with tabs[3]:
    st.subheader("ğŸšŒ æ¡ƒåœ’å¸‚æ°‘å¡ (æ„›å¿ƒ/æ•¬è€)")
    
    # æ¡ƒåœ’å¸‚æ°‘å¡
    show_item(15, "æ¡ƒåœ’æ•¬è€æ„›å¿ƒå¡", "800é»/æœˆ", (age>=55), "åŸä½æ°‘55æ­²å°±èƒ½è¾¦ï¼(å¾©èˆˆå€1000é»)", "å€å…¬æ‰€")
    
    show_item(16, "æ„›å¿ƒè¨ˆç¨‹è»Š", "é»æ•¸æŠ˜æŠµ", (age>=55), "ç”¨å¸‚æ°‘å¡é»æ•¸æ‰£ (100å…ƒä»¥ä¸‹è£œ36é»)", "æ‰‹æ©Ÿå«è»Š")
    show_item(17, "æ©Ÿæ·/å…¬è»Šå„ªæƒ ", "5æŠ˜/å…è²»", (age>=55), "ç”¨å¸‚æ°‘å¡é»æ•¸æ‰£æŠµ", "æ·é‹ç«™/å…¬è»Š")
    show_item(18, "å°éµæ­ä¹˜è£œåŠ©", "æ¯è¶Ÿæ‰£é»", (age>=55), "èµ·è¨–ç«™éœ€åœ¨æ¡ƒåœ’ (æ¯è¶Ÿè£œåŠ©30é»)", "ç«è»Šç«™")

# === Tab 5: éš±è—ç‰ˆ & æ³•å¾‹ ===
with tabs[4]:
    st.subheader("âš°ï¸ èº«å¾Œ & æ³•å¾‹")
    
    show_item(19, "è¾²ä¿å–ªè‘¬æ´¥è²¼", "$153,000", is_farmer, "è¾²æ°‘èº«æ•… (å®¶å±¬é ˜)", "è¾²æœƒä¿éšªéƒ¨")
    show_item(20, "åœ‹ä¿å–ªè‘¬çµ¦ä»˜", "ç´„9.8è¬", (not is_farmer), "ä¸€èˆ¬äººèº«æ•… (å®¶å±¬é ˜)", "å‹ä¿å±€")
    show_item(21, "åŸä½æ°‘æ³•å¾‹æ‰¶åŠ©", "å¾‹å¸«è²»å…¨å…", True, "å®˜å¸ç³¾ç´› (æ³•æ‰¶)", "æ³•æ‰¶åŸºé‡‘æœƒ")
    show_item(22, "æ„å¤–ä¿éšª (å¾®å‹)", "æœ€é«˜30è¬", is_low_income, "æ¡ƒåœ’å¸‚æ”¿åºœå¹«ä½ ä¿", "ç¤¾æœƒå±€")
    show_item(23, "ä½¿ç”¨ç‰Œç…§ç¨…æ¸›å…", "å…ç¨… (1.1è¬)", (has_disability and has_car), "èº«éšœè€…æœ‰è»Šå¯å…ç¨…", "ç¨…å‹™å±€")

# ==========================================
# 5. åº•éƒ¨è¯çµ¡å€ (æ¡ƒåœ’è³‡è¨Š)
# ==========================================
st.markdown("---")
st.subheader("ğŸ“ å¸¸ç”¨é›»è©± (æ¡ƒåœ’)")
c1, c2 = st.columns(2)
with c1:
    st.markdown("**æ¡ƒåœ’å¸‚åŸæ°‘å±€**ï¼š03-3322101")
    st.markdown("**ä¸‰ä¸€å”æœƒ**ï¼š(è«‹æ´½ç†äº‹é•·)")
with c2:
    st.markdown("**é•·ç…§å°ˆç·š**ï¼š1966")
    st.markdown("**ç¦åˆ©è«®è©¢**ï¼š1999 (å¸‚æ°‘å°ˆç·š)")

st.caption("è³‡æ–™ä¾†æºï¼šæ¡ƒåœ’å¸‚æ”¿åºœåŸä½æ°‘æ—è¡Œæ”¿å±€ / ç¤¾æœƒå±€ (114å¹´ç‰ˆ)")